{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductsDropdown=()=>{var _productDetails$_embe,_productDetails$_embe2,_productDetails$_embe3;const[products,setProducts]=useState([]);const[selectedProductId,setSelectedProductId]=useState(null);const[productDetails,setProductDetails]=useState(null);const WP_API_BASE='https://pacificenergy.net/wp-json/wp/v2/products';// Fetch all products for the dropdown\nuseEffect(()=>{axios.get(`${WP_API_BASE}?per_page=100`).then(res=>{setProducts(res.data);}).catch(err=>console.error(\"Error fetching products list:\",err));},[]);// Fetch selected product details with featured image and ACF\nuseEffect(()=>{if(!selectedProductId)return;axios.get(`${WP_API_BASE}/${selectedProductId}?_embed&acf_format=standard`).then(res=>{setProductDetails(res.data);}).catch(err=>console.error(\"Error fetching product details:\",err));},[selectedProductId]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'600px',margin:'auto'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Select a Product\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedProductId(e.target.value),value:selectedProductId||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select one...\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.title.rendered},product.id))]}),productDetails&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:productDetails.title.rendered}),((_productDetails$_embe=productDetails._embedded)===null||_productDetails$_embe===void 0?void 0:(_productDetails$_embe2=_productDetails$_embe['wp:featuredmedia'])===null||_productDetails$_embe2===void 0?void 0:(_productDetails$_embe3=_productDetails$_embe2[0])===null||_productDetails$_embe3===void 0?void 0:_productDetails$_embe3.source_url)&&/*#__PURE__*/_jsx(\"img\",{src:productDetails._embedded['wp:featuredmedia'][0].source_url,alt:productDetails.title.rendered,style:{maxWidth:'100%'}}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:productDetails.content.rendered}}),productDetails.acf&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Custom Fields\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \",productDetails.acf.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"SKU:\"}),\" \",productDetails.acf.sku]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Available:\"}),\" \",productDetails.acf.available?'Yes':'No']})]})]})]})]});};export default ProductsDropdown;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ProductsDropdown","_productDetails$_embe","_productDetails$_embe2","_productDetails$_embe3","products","setProducts","selectedProductId","setSelectedProductId","productDetails","setProductDetails","WP_API_BASE","get","then","res","data","catch","err","console","error","style","padding","maxWidth","margin","children","onChange","e","target","value","disabled","map","product","id","title","rendered","marginTop","_embedded","source_url","src","alt","dangerouslySetInnerHTML","__html","content","acf","price","sku","available"],"sources":["/Users/phelan/Documents/GitHub/Pacific-energy-stove-builder/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst ProductsDropdown = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [productDetails, setProductDetails] = useState(null);\n\n  const WP_API_BASE = 'https://pacificenergy.net/wp-json/wp/v2/products';\n\n  // Fetch all products for the dropdown\n  useEffect(() => {\n    axios.get(`${WP_API_BASE}?per_page=100`)\n      .then(res => {\n        setProducts(res.data);\n      })\n      .catch(err => console.error(\"Error fetching products list:\", err));\n  }, []);\n\n  // Fetch selected product details with featured image and ACF\n  useEffect(() => {\n    if (!selectedProductId) return;\n\n    axios.get(`${WP_API_BASE}/${selectedProductId}?_embed&acf_format=standard`)\n      .then(res => {\n        setProductDetails(res.data);\n      })\n      .catch(err => console.error(\"Error fetching product details:\", err));\n  }, [selectedProductId]);\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '600px', margin: 'auto' }}>\n      <h1>Select a Product</h1>\n\n      <select\n        onChange={e => setSelectedProductId(e.target.value)}\n        value={selectedProductId || ''}\n      >\n        <option value=\"\" disabled>Select one...</option>\n        {products.map(product => (\n          <option key={product.id} value={product.id}>\n            {product.title.rendered}\n          </option>\n        ))}\n      </select>\n\n      {productDetails && (\n        <div style={{ marginTop: '30px' }}>\n          <h2>{productDetails.title.rendered}</h2>\n          {productDetails._embedded?.['wp:featuredmedia']?.[0]?.source_url && (\n            <img\n              src={productDetails._embedded['wp:featuredmedia'][0].source_url}\n              alt={productDetails.title.rendered}\n              style={{ maxWidth: '100%' }}\n            />\n          )}\n          <div dangerouslySetInnerHTML={{ __html: productDetails.content.rendered }} />\n\n          {/* Example ACF fields: adjust according to your actual ACF field names */}\n          {productDetails.acf && (\n            <div style={{ marginTop: '20px' }}>\n              <h3>Custom Fields</h3>\n              <ul>\n                <li><strong>Price:</strong> {productDetails.acf.price}</li>\n                <li><strong>SKU:</strong> {productDetails.acf.sku}</li>\n                <li><strong>Available:</strong> {productDetails.acf.available ? 'Yes' : 'No'}</li>\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}